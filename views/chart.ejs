<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Charts</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all">
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">
    /head>

    <style> 
        #gradient {
          height: 200px;
          
          background-image: url('images/icon/pic1.jpg');
          background-color: #cccccc;
    height: 500px;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    position: relative;
    
        }
        </style>
    
    <body class="animsition">
        <div class="page-wrapper">
            <!-- HEADER MOBILE-->
            <header class="header-mobile d-block d-lg-none">
                <div class="header-mobile__bar">
                    <div class="container-fluid">
                        <div class="header-mobile-inner">
                            <a class="logo" href="index.html">
                                <img src="images/icon/logo.png" alt="CoolAdmin" />
                            </a>
                            <button class="hamburger hamburger--slider" type="button">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-tachometer-alt"></i>Dashboard</a>
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="index.html">Dashboard 1</a>
                                </li>
                                <li>
                                    <a href="index2.html">Dashboard 2</a>
                                </li>
                                <li>
                                    <a href="index3.html">Dashboard 3</a>
                                </li>
                                <li>
                                    <a href="index4.html">Dashboard 4</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="/chart">
                                <i class="fas fa-chart-bar"></i>Reports</a>
                        </li>
                        <li>
                            <a href="/table">
                                <i class="fas fa-table"></i>Stock Inventory</a>
                        </li>
						 <li>
                            <a href="/clients">
                                <i class="fas fa-table"></i>Clients</a>
                        </li>
                        <li>
                            <a href="/form">
                                <i class="far fa-check-square"></i>Trasactions</a>
                        </li>
                        <li>
                            <a href="/calendar">
                                <i class="fas fa-calendar-alt"></i>Calendar</a>
                        </li>
                        
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                       
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="login.html">Login</a>
                                </li>
                                <li>
                                    <a href="register.html">Register</a>
                                </li>
                                <li>
                                    <a href="forget-pass.html">Forget Password</a>
                                </li>
                            </ul>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                        
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="button.html">Button</a>
                                </li>
                                <li>
                                    <a href="badge.html">Badges</a>
                                </li>
                                <li>
                                    <a href="tab.html">Tabs</a>
                                </li>
                                <li>
                                    <a href="card.html">Cards</a>
                                </li>
                                <li>
                                    <a href="alert.html">Alerts</a>
                                </li>
                                <li>
                                    <a href="progress-bar.html">Progress Bars</a>
                                </li>
                                <li>
                                    <a href="modal.html">Modals</a>
                                </li>
                                <li>
                                    <a href="switch.html">Switchs</a>
                                </li>
                                <li>
                                    <a href="grid.html">Grids</a>
                                </li>
                                <li>
                                    <a href="fontawesome.html">Fontawesome Icon</a>
                                </li>
                                <li>
                                    <a href="typo.html">Typography</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- END HEADER MOBILE-->

        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="#">
                    <img src="images/icon/logo.png" alt="Cool Admin" />
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                      
						 <li>
                            <a href="http://localhost:5000/">
                                <i class="fas fa-chart-bar"></i>Dashboard</a>
                        </li>
                       <li>
                            <a href="/chart">
                                <i class="fas fa-chart-bar"></i>Reports</a>
                        </li>
                        <li>
                            <a href="/table">
                                <i class="fas fa-table"></i>Stock Inventory</a>
                        </li>
						 <li>
                            <a href="/clients">
                                <i class="fas fa-table"></i>Clients</a>
                        </li>
                        <li>
                            <a href="/form">
                                <i class="far fa-check-square"></i>Trasactions</a>
                        </li>
                        <li>
                            <a href="/calendar">
                                <i class="fas fa-calendar-alt"></i>Calendar</a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                     
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="login.html">Login</a>
                                </li>
                                <li>
                                    <a href="register.html">Register</a>
                                </li>
                                <li>
                                    <a href="forget-pass.html">Forget Password</a>
                                </li>
                            </ul>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                             
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="button.html">Button</a>
                                </li>
                                <li>
                                    <a href="badge.html">Badges</a>
                                </li>
                                <li>
                                    <a href="tab.html">Tabs</a>
                                </li>
                                <li>
                                    <a href="card.html">Cards</a>
                                </li>
                                <li>
                                    <a href="alert.html">Alerts</a>
                                </li>
                                <li>
                                    <a href="progress-bar.html">Progress Bars</a>
                                </li>
                                <li>
                                    <a href="modal.html">Modals</a>
                                </li>
                                <li>
                                    <a href="switch.html">Switchs</a>
                                </li>
                                <li>
                                    <a href="grid.html">Grids</a>
                                </li>
                                <li>
                                    <a href="fontawesome.html">Fontawesome Icon</a>
                                </li>
                                <li>
                                    <a href="typo.html">Typography</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap">
                            
                            <div class="header-button">
                                <div class="noti-wrap">

                                     <!-- <div class="noti__item js-item-menu">
                                        <i class="zmdi zmdi-notifications"></i>
                                        <span class="quantity">0</span>
                                        <div class="notifi-dropdown js-dropdown">
                                            <div class="notifi__title">
                                                <p>You have 0 Notifications</p>
                                            </div>
                                          
                                            <div class="notifi__footer">
                                                <a href="#">All notifications</a>
                                            </div>
                                        </div>
                                    </div>-->
                                </div>
                                <div class="account-wrap">
                                    <div class="account-item clearfix js-item-menu">
                                       
                                        <div class="content">
                                            
                                            <h2><b>Tr√©s Chic Nail Boutique</b></h2>
                                        </div>
                                        
                                       <!-- <div class="account-dropdown js-dropdown">
                                            <div class="info clearfix">
                                                <div class="image">
                                                    <a href="#">
                                                        <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                                                    </a>
                                                </div>
                                                <div class="content">
                                                    <h5 class="name">
                                                        <a href="#">Welcome</a>
                                                    </h5>
                                                    <span class="email">johndoe@example.com</span>
                                                </div>
                                            </div>



                                            <div class="account-dropdown__body">
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-account"></i>Account</a>
                                                </div>
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-settings"></i>Setting</a>
                                                </div>
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-money-box"></i>Billing</a>
                                                </div>
                                            </div>
                                            <div class="account-dropdown__footer">
                                                <a href="#">
                                                    <i class="zmdi zmdi-power"></i>Logout</a>
                                            </div>
                                        </div>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- END HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">

                        

                        <div class="row">
                            
						                                <!-- DATA TABLE-->
                                <div class="table-responsive m-b-40">
									
									   
                               
                                 
									</br>
                                    <div>
                                        
									   <h2 class="title-1">Income Per Client</h2>
									   </br>
									     <!-- DATA TABLE-->
                                         <div class="table-responsive m-b-40">
                                            <table class="table table-borderless table-data3">
                                                <!-- <thead>
                                                   <tr>
            <th>Name</th>
            <th>Payment</th>
            <th>Payment_Date</th>
        
            </tr>
               </thead>-->
        <tbody>
                                                    <% customers.forEach(function(customers){ %>
            
            <tr>
            
            <td class="id"><b><%= customers.value.Names %></b></td>
            <td class="val"><b><%= customers.value.Payment %></b></td>
            <td class="date"><b><%= customers.value.Payment_Date %></b></td>
           
           </tr>
            
        <% }); %>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
            <script>
          var json = {};
          //Sum up everything and erase
          $.each($('tr'), function(index, curRow) {
            var curName = $(curRow).find('.id').text();
            var curQty = $(curRow).find('.val').text();
            if (json[curName] != null) {
              json[curName] += parseInt(curQty);
            } else {
              json[curName] = parseInt(curQty);
            }
            $(this).remove();
          });
          //Rebuild table
          $('table').append('<thead><tr><th>Name</th><th>Total Payment</th></tr></thead>')
          jQuery.each(json, function(name, val) {
           
            $('table').append('<tbody><tr><td class="id"><b>' + name + '</b></td><td class="val"><b>' + val + '</b></td></tr></tbody>');
          });
        


                     
        
        </script>
                               </tbody>
        
                                                
        
        
        
        </table>
        </div>
        </div>
          <script type="text/javascript">
        
        document.querySelectorAll('table tr').forEach(function(e, i) {
            if (e.textContent.trim().length == 0) { // if row is empty
                e.parentNode.removeChild(e);
            }
        })
        document.querySelectorAll("td").forEach((item) => {
  if (item.textContent.includes("NaN")) {
    item.parentElement.remove();
  }
});


        </script>
        <br>
        <div class="container-fluid">
        <div class="row">
            
            <!-- DATA TABLE-->
             <div class="table-responsive m-b-40">

            </br>
            <div>
               <h2 class="title-1">Expenditure by Date</h2>
               </br>
                 <table id="countit" class="table table-borderless table-data3">
                     <thead>
                        <tr>
<!--<th>Product</th>
<th>Item ID</th>
<th>Quantity</th>-->
<th>Date</th>
<th>Expense</th>
</tr>
                         
                     </thead>
                     <tbody>
                        <% customers.forEach(function(customers){ %>
                             %>

<tr>
<!--
<td><b><%= customers.value.name %></b></td>
<td><b><%= customers.value.item_id %></b></td>
<td><b><%= customers.value.quantity %></b></td>-->
<td><b><%= customers.value.date %></b></td>
<td class="count-me"><%= customers.value.cost %></b></td>


</tr>


<% }); %>
                     </tbody>
                 </table>
                 </div>
                 </div>
                
                 <script language="javascript" type="text/javascript">

document.querySelectorAll('table tr').forEach(function(e, i) {
if (e.textContent.trim().length == 0) { // if row is empty
e.parentNode.removeChild(e);
}
})

                 
                     var tds = document.getElementById('countit').getElementsByTagName('td');
                     var sum = 0;
                     for(var i = 0; i < tds.length; i ++) {
                         if(tds[i].className == 'count-me') {
                             sum += isNaN(tds[i].innerHTML) ? 0 : parseInt(tds[i].innerHTML);
                         }
                     }
                     document.getElementById('countit').innerHTML += '<tr><td style="font-size:2vw;"><i><b>Total</b></i></td><td style="font-size:2vw;"><b>R ' + sum + '</b></td></tr>';
                     
                     
                     
                 </script>
                

                 
             </div>
             </div>
             <!-- END DATA TABLE-->
            <!--  <body>
                 <table id="countit">
                     <tr>
                         <td class="count-me">12</td>
                         <td>Some value</td>
                     </tr>
                     <tr>
                         <td class="count-me">2</td>
                         <td>Some value</td>
                     </tr>
                     <tr>
                         <td class="count-me">17</td>
                         <td>Some value</td>
                     </tr>
                     <tr>
                         <td class="count-me"></td>
                         <td>Some value</td>
                     </tr>
                 </table>
                 <script language="javascript" type="text/javascript">
                     var tds = document.getElementById('countit').getElementsByTagName('td');
                     var sum = 0;
                     for(var i = 0; i < tds.length; i ++) {
                         if(tds[i].className == 'count-me') {
                             sum += isNaN(tds[i].innerHTML) ? 0 : parseInt(tds[i].innerHTML);
                         }
                     }
                     document.getElementById('countit').innerHTML += '<tr><td>' + sum + '</td><td>total</td></tr>';
                 </script>
             </body>
             -->

         </div>
                          
                                               
                                        </div>
                                        </div>
                                        <!-- END DATA TABLE-->
                                <!-- END DATA TABLE-->
                                <div class="container-fluid">
                                    <div class="row">
                                   
                                            <!-- DATA TABLE-->
                                            <div class="table-responsive m-b-40">
                                                <div>
                                                    <h2 class="title-1">Income by Date</h2>
                                                    </br>
                                                <table id="countit2" class="table table-borderless table-data3">
                                                     <thead>
                                                       <tr>
                <th>Date</th>                                          
               <!-- <th>Name</th>-->
                <th>Income</th>
                
            
                </tr>
                   </thead>
            <tbody>
                                                        <% customers.forEach(function(customers){ %>
                
                <tr>
                
                <td><b><%= customers.value.Payment_Date %></b></td>
                <!--<td><b><%= customers.value.Names %></b></td>-->
                <td class="count-me2"><%= customers.value.Payment %></td>
                
               
               </tr>
                
            <% }); %>
            <!--
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
                <script>
              var json = {};
              //Sum up everything and erase
              $.each($('tr'), function(index, curRow) {
                var curName = $(curRow).find('.id').text();
                var curQty = $(curRow).find('.val').text();
                if (json[curName] != null) {
                  json[curName] += parseInt(curQty);
                } else {
                  json[curName] = parseInt(curQty);
                }
                $(this).remove();
              });
              //Rebuild table
              jQuery.each(json, function(name, val) {
               
                $('table').append('<tbody><tr><td class="id"><b>' + name + '</b></td><td class="val"><b>' + val + '</b></td></tr></tbody>');
              });
            
            
            </script>-->
                                                    </tbody>
            
                                                    
            
            
            
            </table>
            
            
              <script language="javascript" type="text/javascript">
            
            document.querySelectorAll('table tr').forEach(function(e, i) {
                if (e.textContent.trim().length == 0) { // if row is empty
                    e.parentNode.removeChild(e);
                }
            })
            
                                                    var tds = document.getElementById('countit2').getElementsByTagName('td');
                                                    var sum2 = 0;
                                                    for(var i = 0; i < tds.length; i ++) {
                                                        if(tds[i].className == 'count-me2') {
                                                            sum2 += isNaN(tds[i].innerHTML) ? 0 : parseInt(tds[i].innerHTML);
                                                        }
                                                    }
                                                    document.getElementById('countit2').innerHTML += '<tr><td style="font-size:2vw;"><i><b>Total</b></i></td><td style="font-size:2vw;"><b>R ' + sum2 + '</b></td></tr>';
                                      
                                                    







            </script>
<br><br><br><br>
               <script language="javascript" type="text/javascript"> 
               document.getElementById('countit2').innerHTML += '<br><br><br><div class="row"><div class="col-sm-4"><label>Total Income</label></div><div class="col-sm-8"><b>R ' + sum2 + '</b></div>';
               document.getElementById('countit2').innerHTML += '<div class="row"><div class="col-sm-4"><label>Total Expense</label></div><div class="col-sm-8"><b>R ' + sum + '</b></div>';
               document.getElementById('countit2').innerHTML += '<div class="row"><div class="col-sm-4"><label><b>Total Net Value</b></label></div><div class="col-sm-8"><b>R ' + (sum2-sum) + '</b></div>';
     
               </script>
                                                   
                                            </div>
                                            <!-- END DATA TABLE-->
                                        </div>
                                        
                                    </div>
                        <div class="row">
                            <div class="col-md-12">
                                
                            </div>
                        </div>
                 <div> 

                    
                 </div>
                            
                    </div>
                </div>
            </div>
            <!-- END MAIN CONTENT-->
        </div>
        <!-- END PAGE CONTAINER-->

    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="vendor/slick/slick.min.js">
    </script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js">
    </script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js">
    </script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js">
    </script>

    <!-- 
        Dear Developer

        If you are trying to optimize this routine and it
        fails(most surely), please increase the counter below as
        a Warning for the next person:

        Total_hours_wasted_here: = 113
          
        
        Main JS-->


    <script src="js/main.js"></script>

</body>

</html>
<!-- end document-->
